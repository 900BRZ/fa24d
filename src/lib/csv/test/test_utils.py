from ..utils import csv_width, read_last_line


def test_csv_width():
    assert csv_width("fixtures/aim_header.csv") == 46
    assert csv_width("fixtures/aim_header_multiline_comment.csv") == 46


def test_read_last_line():
    result = read_last_line("fixtures/aim_header.csv")
    expected = "0.020,0.003,-11544.001953,-4002.000488,4787.999512,3.624062,0.971210,0.052087,-2.042832,-1.980877,-0.603350,1.246090,6174.467285,100.000000,1.309585,0.296143,0.000000,107.938919,-0.000009,-0.000009,-0.000009,-0.000009,-0.063671,0.094223,0.000000,5.000000,208.399811,193.999664,56.298641,0.000000,9.000000,2566.338135,77.449814,109.347664,19.000000,0.013161,0.111391,0.222399,-179.498322,0.150938,87.180191,1.320000,0.150000,39.539328381834,-122.331190710030,87.18\n"
    assert result == expected
